(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10],{2980:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/run",function(){return s(1178)}])},4280:function(e,t,s){"use strict";var r=s(5893);let n=e=>{let{heading:t,children:s}=e;return(0,r.jsxs)("div",{className:"m-4",children:[(0,r.jsx)("div",{className:"form-card-heading",children:(0,r.jsx)("p",{className:"rounded-r-lg bg-primary p-2 text-white md:text-xl",children:t})}),(0,r.jsx)("div",{className:"flex flex-col items-center justify-center rounded-xl border-2 border-dotted border-primary px-4 py-6 ",children:s})]})};t.Z=n},2398:function(e,t,s){"use strict";var r=s(5893);let n=()=>(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("p",{className:"my-4 text-2xl",children:"計算中..."}),(0,r.jsxs)("div",{className:"flex justify-center",children:[(0,r.jsx)("span",{className:"animation-delay-250 ml-2 h-8 w-8 animate-spin rounded-xl bg-primary"}),(0,r.jsx)("span",{className:"animation-delay-500 ml-2 h-8 w-8 animate-spin rounded-xl bg-primary"}),(0,r.jsx)("span",{className:"animation-delay-750 ml-2 h-8 w-8 animate-spin rounded-xl bg-primary"})]})]});t.Z=n},3882:function(e,t,s){"use strict";var r=s(5893);s(5438);let n=e=>{let{resultGrouping:t,runCalculationAgain:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,r.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,r.jsx)("p",{className:"text-sm text-tertiary",children:"大域最適解をできる限り求めていますが、重複が生じる場合もございます"})}),t.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"result-element-heading",children:(0,r.jsxs)("p",{className:"rounded-lg bg-black p-2 text-2xl text-white md:text-3xl",children:[t+1,"回目"]})}),(0,r.jsx)("div",{className:"flex flex-col flex-wrap items-center justify-center rounded-xl border-2 border-dotted border-black px-4 py-6 ",children:e.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"result-element-heading",children:(0,r.jsxs)("p",{className:"rounded-lg bg-primary p-2 text-white md:text-xl",children:["グループ",t+1]})}),(0,r.jsx)("div",{className:"flex flex-col flex-wrap items-center justify-center rounded-xl border-2 border-dotted border-primary px-4 py-6 md:flex-row ",children:e.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("span",{className:"material-symbols-outlined text-3xl",children:"person"}),(0,r.jsx)("h3",{className:"px-4 pb-2 text-2xl md:text-xl ",children:e})]},t))})]},t))})]},t)),(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("button",{className:"m-4 rounded-xl border-2 border-primary px-4 py-2 duration-500 hover:bg-primary hover:text-white",onClick:s,children:"再計算する"})})]})};t.Z=n},9475:function(e,t,s){"use strict";var r=s(5893);let n=e=>{let{heading:t}=e;return(0,r.jsxs)("div",{className:"my-8 flex items-center justify-center",children:[(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"relative mr-8 h-12 w-12 rounded-xl bg-primary",children:(0,r.jsx)("div",{className:"absolute -top-4 -right-4 h-8 w-8 rounded-md bg-secondary"})})}),(0,r.jsx)("h1",{className:"pb-2 text-4xl drop-shadow md:text-4xl",children:t})]})};t.Z=n},4066:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var r=s(5893),n=s(9008),a=s.n(n),i=s(1664),l=s.n(i);let c=()=>(0,r.jsx)("footer",{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mt-6 flex flex-wrap justify-around",children:[(0,r.jsx)(l(),{href:"/",className:"mx-4",children:(0,r.jsx)("p",{className:"text-primary",children:"トップ"})}),(0,r.jsx)(l(),{href:"/run",className:"mx-4",children:(0,r.jsx)("p",{className:"text-primary",children:"実行"})}),(0,r.jsx)(l(),{href:"/description",className:"mx-4",children:(0,r.jsx)("p",{className:"text-primary",children:"仕組み"})}),(0,r.jsx)(l(),{href:"/aboutThisSite",className:"mx-4",children:(0,r.jsx)("p",{className:"text-primary",children:"このサイトについて"})})]}),(0,r.jsxs)("div",{className:"mt-6 flex flex-col justify-around",children:[(0,r.jsx)("p",{className:"m-2 text-center",children:"copyright usuyuki"}),(0,r.jsx)("a",{className:"m-2 text-center text-sm",href:"https://github.com/usuyuki/rawp",target:"_blank",rel:"noreferrer noopener",children:"GitHub"})]})]})});var d=s(5675),x=s.n(d);let o=()=>(0,r.jsx)("header",{className:"sticky top-0 z-10 ",children:(0,r.jsx)("div",{className:"flex flex-wrap justify-around",children:(0,r.jsxs)(l(),{href:"/",className:"mx-2 flex items-center justify-center",children:[(0,r.jsx)(x(),{src:"/img/icon/rawpLogoLight.svg",width:40,height:40,alt:"RAWPロゴ",className:"mr-2"}),(0,r.jsx)("p",{className:"text-2xl text-primary ",children:"RAWP"})]})})}),m=()=>(0,r.jsx)("div",{className:"side-share-element",children:(0,r.jsxs)("div",{className:"hidden flex-col items-center justify-center md:flex",children:[(0,r.jsx)("p",{children:"share"}),(0,r.jsx)("div",{className:"h-16 w-1 bg-black"}),(0,r.jsx)("a",{href:"http://twitter.com/share?url=rawp.usuyuki.net&text=複数回のグループ分けをいい感じにするツール「RAWP」&related=@usuyuki26",target:"_blank",rel:"noreferrer noopener",children:(0,r.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-black",children:(0,r.jsx)(x(),{src:"/img/icon/TwitterLogoWhite.svg",alt:"Twitter",width:"0",height:"0",sizes:"100%",className:"h-auto w-1/2"})})}),(0,r.jsx)("a",{href:"https://www.facebook.com/share.php?u=http://rawp.usuyuki.net",target:"_blank",rel:"noreferrer noopener",children:(0,r.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-black",children:(0,r.jsx)(x(),{src:"/img/icon/f_logo_RGB-White_250.png",alt:"Twitter",width:"0",height:"0",sizes:"100%",className:"h-auto w-1/2"})})})]})}),u=e=>{let{children:t,title:s,description:n}=e,i=s?"".concat(s," | RAWP"):"RAWP",l=null!=n?n:"RAWPは重複のない複数回グループ分けを素早く導き出すサービスです";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("meta",{httpEquiv:"content-language",content:"ja"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"ie=edge"}),(0,r.jsx)("meta",{name:"description",content:l}),(0,r.jsx)("title",{children:i}),(0,r.jsx)("meta",{property:"og:title",content:i}),(0,r.jsx)("meta",{property:"og:description",content:l}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:url",content:"https://rawp.usuyuki.net/"}),(0,r.jsx)("meta",{property:"og:image",content:"https://rawp.usuyuki.net/img/ogp/ogp.png"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,r.jsx)("meta",{name:"twitter:site",content:"@usuyuki26"}),(0,r.jsx)("meta",{name:"twitter:creator",content:"@usuyuki26"}),(0,r.jsx)("link",{rel:"apple-touch-icon",type:"image/png",href:"/img/favicon/apple-touch-icon-180x180.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",href:"/img/favicon/icon-192x192.png"})]}),(0,r.jsx)("div",{className:"fixed inset-y-0 right-4 ",children:(0,r.jsx)(m,{})}),(0,r.jsx)(o,{}),(0,r.jsx)("main",{children:t}),(0,r.jsx)(c,{})]})};var h=u},6085:function(e,t,s){"use strict";s.a(e,async function(e,r){try{s.d(t,{Z:function(){return i}});var n=s(8207),a=e([n]);n=(a.then?(await a)():a)[0];let i=(e,t,s,r,a,i)=>{let l=e,c=t;if(i){a?(c+=1,l=Math.ceil(e/c)*c):l=Math.ceil(e/t)*t;for(let d=0;d<l-e;d++)r.push("")}let x=new Date,o=(0,n.X)(l,c,s,BigInt(x.getTime())),m=o.split(","),u=[],h=0,f=l/c;for(let p=0;p<s;p++){let j=[];for(let y=0;y<c;y++)j.push(m.slice(h,h+=f));u.push(j)}return u.forEach((e,t)=>{e.forEach((e,s)=>{e.forEach((e,n)=>{u[t][s][n]=r[Number(e)]}),i&&(u[t][s]=u[t][s].filter(e=>""!==e))})}),u};r()}catch(l){r(l)}})},1178:function(e,t,s){"use strict";s.a(e,async function(e,r){try{s.r(t);var n=s(5893),a=s(7294),i=s(4280),l=s(2398),c=s(3882),d=s(9475),x=s(4066),o=s(6085),m=e([o]);o=(m.then?(await m)():m)[0];let u=()=>{let[e,t]=(0,a.useState)(""),[s,r]=(0,a.useState)([]),[m,u]=(0,a.useState)(1),[h,f]=(0,a.useState)(1),[p,j]=(0,a.useState)(1),[y,g]=(0,a.useState)(!1),[w,b]=(0,a.useState)(!1),[N,v]=(0,a.useState)(1),[k,_]=(0,a.useState)("waiting"),[E,S]=(0,a.useState)("複数回のグループ生成"),[Z,A]=(0,a.useState)([]),[C,T]=(0,a.useState)(!1),[P,W]=(0,a.useState)(!1),D=e=>{t(e.target.value),u(e.target.value.split(/\r\n|\n/).length),r(e.target.value.split(/\r\n|\n/).filter(e=>""!==e))},R=e=>{b(e.target.checked)};(0,a.useEffect)(()=>{f(s.length)},[s]),(0,a.useEffect)(()=>{p>h&&j(h),g(h%p!=0)},[h,p]),(0,a.useEffect)(()=>{h>0&&h<=255&&p>0&&p<h&&N>0&&N<=255&&T(!0)},[p,h,N]),(0,a.useEffect)(()=>{switch(k){case"waiting":S("複数回のグループ生成");break;case"calculating":S("計算中");break;case"finished":S("演算結果")}},[k]),(0,a.useEffect)(()=>{"calculating"===k&&(W(!0),S("計算中"))},[k]),(0,a.useEffect)(()=>{P&&"計算中"===E&&(A((0,o.Z)(h,p,N,s,w,y)),_("finished"),W(!1),window.scrollTo(0,0))},[P,w,y,p,h,N,s,E]);let X=()=>{_("calculating"),window.scrollTo(0,0)},O=()=>{_("waiting"),A([])},L=(0,n.jsx)(n.Fragment,{});switch(k){case"waiting":L=(0,n.jsxs)("div",{className:"counter-element",children:[(0,n.jsxs)(i.Z,{heading:"参加者の名前",children:[(0,n.jsx)("p",{className:"mb-2",children:"参加者名をお一人ずつ改行しながら入力してください"}),(0,n.jsx)("textarea",{onChange:D,rows:m,defaultValue:e,className:"overflow-hidden"}),(0,n.jsxs)("div",{children:[h,"人"]}),h>255?(0,n.jsx)("p",{className:"text-tertiary",children:"最大人数を超えています！"}):""]}),(0,n.jsxs)(i.Z,{heading:"作成したいグループ数",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("p",{className:"mx-2 text-6xl ",children:p}),w&&y?(0,n.jsx)("p",{className:"text-3xl text-tertiary",children:"+1"}):"",(0,n.jsx)("p",{className:"text-2xl",children:"グループ"})]}),(0,n.jsxs)("p",{children:["(1グループあたり約",0===h||0==p?"-":w?Math.floor(h/(p+1)):Math.floor(h/p),"人程度)"]}),(0,n.jsxs)("div",{className:"flex justify-center",children:[(0,n.jsx)("button",{className:"mx-4 my-2 flex h-12 w-12 items-center justify-center rounded-full bg-primary pb-1 text-2xl text-white",onClick:()=>{h>p&&j(p+1)},children:"+"}),(0,n.jsx)("button",{className:"mx-4 my-2 flex h-12 w-12 items-center justify-center rounded-full bg-primary pb-1 text-2xl text-white",onClick:()=>{p>1&&j(p-1)},children:"-"})]}),(0,n.jsx)("p",{className:"mt-6",children:"人数に過不足がある時の挙動"}),(0,n.jsxs)("label",{className:"mt-4 inline-flex cursor-pointer flex-col items-center md:flex-row",children:[(0,n.jsx)("input",{type:"checkbox",onChange:R,className:"peer sr-only",checked:w}),(0,n.jsx)("span",{className:"ml-3 border p-2 text-sm text-primary peer-checked:border-dotted peer-checked:text-black",children:"グループ数は変えずに1グループあたりの人数を増やす"}),(0,n.jsx)("span",{className:"ml-3 border border-dotted p-2 text-sm peer-checked:border-solid peer-checked:text-primary",children:"少ない人数で構成されたグループを追加する"})]}),(0,n.jsx)("p",{className:"mt-6 text-xs md:w-1/2",children:"グループ数に対して人数の過不足がある場合の調整も自動で行いますが、実装上グループの人数が安定しないため、できる限り過不足ない人数調整をおすすめします"})]}),(0,n.jsxs)(i.Z,{heading:"グループ分けする回数",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("p",{className:"mx-2 text-6xl ",children:N}),(0,n.jsx)("p",{className:"text-2xl",children:"回"})]}),(0,n.jsxs)("div",{className:"flex justify-center",children:[(0,n.jsx)("button",{className:"mx-4 my-2 flex h-12 w-12 items-center justify-center rounded-full bg-primary pb-1 text-2xl text-white",onClick:()=>{v(N+1)},children:"+"}),(0,n.jsx)("button",{className:"mx-4 my-2 flex h-12 w-12 items-center justify-center rounded-full bg-primary pb-1 text-2xl text-white",onClick:()=>{N>1&&v(N-1)},children:"-"})]})]}),(0,n.jsxs)("div",{className:"my-6 flex flex-col items-center justify-center",children:[C?(0,n.jsx)("p",{className:"text-primary",children:"バリデーションOK、実行できます\uD83E\uDD73"}):(0,n.jsx)("p",{className:"text-tertiary",children:"指定の入力を終えると実行できます。"}),(0,n.jsx)("button",{onClick:X,className:"rounded-md bg-tertiary py-6 px-12 text-3xl text-white duration-300 hover:bg-primary hover:text-tertiary",disabled:!C,children:"演算開始"})]})]});break;case"calculating":L=(0,n.jsx)(l.Z,{});break;case"finished":L=(0,n.jsx)(c.Z,{resultGrouping:Z,runCalculationAgain:O})}return(0,n.jsxs)(x.Z,{title:E,children:[(0,n.jsx)(d.Z,{heading:E}),L]})};t.default=u,r()}catch(h){r(h)}})},8207:function(e,t,s){"use strict";s.a(e,async function(e,r){try{s.d(t,{X:function(){return a.X}});var n=s(7963),a=s(8120),i=e([n,a]);[n,a]=i.then?(await i)():i,r()}catch(l){r(l)}})},8120:function(e,t,s){"use strict";s.a(e,async function(r,n){try{s.d(t,{O:function(){return h},X:function(){return u}});var a=s(7963);e=s.hmd(e);var i=r([a]);a=(i.then?(await i)():i)[0];let l="undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder,c=new l("utf-8",{ignoreBOM:!0,fatal:!0});c.decode();let d=new Uint8Array;function x(e,t){return c.decode((0===d.byteLength&&(d=new Uint8Array(a.memory.buffer)),d).subarray(e,e+t))}let o=new Int32Array;function m(){return 0===o.byteLength&&(o=new Int32Array(a.memory.buffer)),o}function u(e,t,s,r){try{let n=a.__wbindgen_add_to_stack_pointer(-16);a.resolve_by_sa(n,e,t,s,r);var i=m()[n/4+0],l=m()[n/4+1];return x(i,l)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(i,l)}}function h(e,t){throw Error(x(e,t))}n()}catch(f){n(f)}})},5438:function(){},7963:function(e,t,s){"use strict";s.a(e,async function(r,n){try{var a=s(8120),i=r([a]),[a]=i.then?(await i)():i;await s.v(t,e.id,"b66452aab4c66005",{"./rawp_kernel_bg.js":{__wbindgen_throw:a.O}}),n()}catch(l){n(l)}},1)}},function(e){e.O(0,[247,774,888,179],function(){return e(e.s=2980)}),_N_E=e.O()}]);